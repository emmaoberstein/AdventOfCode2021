using System;
					
public class Program
{	
	public static void Main()
	{
		int[,] coords = new int[length,length];
		var readings = input.Split(new string[] { "\r\n" }, StringSplitOptions.None);
		foreach (string reading in readings) 
		{
			var line = reading.Split(new string[] { " -> " }, StringSplitOptions.None);
			var x1 = Int32.Parse(line[0].Split(new string[] { "," }, StringSplitOptions.None)[0]);	
			var y1 = Int32.Parse(line[0].Split(new string[] { "," }, StringSplitOptions.None)[1]);
			var x2 = Int32.Parse(line[1].Split(new string[] { "," }, StringSplitOptions.None)[0]);	
			var y2 = Int32.Parse(line[1].Split(new string[] { "," }, StringSplitOptions.None)[1]);
			
			if (x1 == x2) 
			{
				int yStart = y2 > y1 ? y1 : y2;
				int yEnd = y2 > y1 ? y2 : y1;
				for (int i = yStart; i <= yEnd; i++)
				{
					coords[x1, i] = coords[x1, i] + 1;
				}
			}
			
			if (y1 == y2)
			{
				int xStart = x2 > x1 ? x1 : x2;
				int xEnd = x2 > x1 ? x2 : x1;			
				for (int i = xStart; i <= xEnd; i++)
				{
					coords[i, y1] = coords[i, y1] + 1;
				}
			}
		}
		
		int overlap = 0;
		for (int i = 0; i < length; i++)
		{
			for (int j = 0; j < length; j++)
			{	
				if (coords[i,j] > 1)
				{
					overlap++;
				}
			}
		}
		
		Console.WriteLine(overlap);
	}


	public const int length = 1000;
	public static string input = "427,523 -> 427,790\r\n94,639 -> 94,951\r\n757,371 -> 465,663\r\n503,935 -> 503,148\r\n655,565 -> 655,951\r\n167,754 -> 710,211\r\n634,433 -> 245,433\r\n449,889 -> 449,509\r\n152,753 -> 207,808\r\n301,90 -> 301,982\r\n566,405 -> 482,405\r\n758,741 -> 847,652\r\n342,686 -> 921,107\r\n741,317 -> 741,533\r\n976,917 -> 976,664\r\n273,272 -> 273,899\r\n326,616 -> 326,478\r\n483,906 -> 391,814\r\n20,165 -> 20,349\r\n860,533 -> 860,137\r\n846,834 -> 846,610\r\n155,923 -> 241,923\r\n989,984 -> 17,12\r\n711,681 -> 82,52\r\n312,788 -> 312,281\r\n319,746 -> 892,746\r\n568,555 -> 757,555\r\n659,450 -> 940,450\r\n870,260 -> 870,487\r\n110,794 -> 604,794\r\n509,141 -> 509,99\r\n29,68 -> 29,713\r\n340,688 -> 820,688\r\n428,46 -> 902,520\r\n539,525 -> 539,210\r\n181,822 -> 806,822\r\n551,338 -> 551,79\r\n894,542 -> 894,151\r\n700,625 -> 700,60\r\n143,736 -> 143,770\r\n810,975 -> 54,219\r\n44,373 -> 44,514\r\n849,794 -> 120,794\r\n347,690 -> 97,440\r\n10,625 -> 57,625\r\n541,202 -> 799,202\r\n375,491 -> 809,925\r\n271,474 -> 271,905\r\n980,825 -> 980,908\r\n600,751 -> 624,751\r\n120,978 -> 958,140\r\n262,916 -> 262,794\r\n399,350 -> 399,666\r\n623,270 -> 158,735\r\n585,792 -> 585,381\r\n168,34 -> 168,88\r\n256,806 -> 566,806\r\n196,397 -> 326,397\r\n583,677 -> 172,677\r\n45,242 -> 311,508\r\n530,469 -> 433,566\r\n46,101 -> 877,932\r\n607,655 -> 485,777\r\n773,672 -> 461,360\r\n340,30 -> 659,30\r\n846,952 -> 846,917\r\n457,700 -> 125,368\r\n571,656 -> 561,656\r\n251,30 -> 576,30\r\n79,197 -> 79,87\r\n518,51 -> 518,904\r\n916,802 -> 181,67\r\n23,626 -> 485,626\r\n956,106 -> 956,811\r\n849,384 -> 743,278\r\n893,153 -> 893,608\r\n17,989 -> 933,73\r\n701,119 -> 701,704\r\n494,580 -> 494,821\r\n605,740 -> 605,363\r\n823,58 -> 823,166\r\n250,363 -> 566,363\r\n418,178 -> 783,178\r\n273,82 -> 273,115\r\n545,489 -> 656,489\r\n468,671 -> 966,671\r\n376,744 -> 178,942\r\n62,728 -> 589,201\r\n588,150 -> 467,29\r\n202,664 -> 751,115\r\n519,547 -> 916,150\r\n803,483 -> 380,60\r\n599,459 -> 922,459\r\n162,680 -> 162,385\r\n823,94 -> 18,899\r\n802,734 -> 415,347\r\n115,964 -> 115,935\r\n749,595 -> 749,770\r\n229,64 -> 582,64\r\n103,496 -> 551,48\r\n137,581 -> 707,11\r\n501,563 -> 895,957\r\n59,222 -> 620,222\r\n874,249 -> 874,938\r\n201,927 -> 927,201\r\n630,619 -> 655,619\r\n666,331 -> 413,78\r\n517,650 -> 425,558\r\n803,256 -> 803,598\r\n303,460 -> 606,763\r\n124,975 -> 967,132\r\n867,528 -> 867,363\r\n239,140 -> 239,211\r\n975,779 -> 364,168\r\n971,49 -> 531,49\r\n408,932 -> 143,932\r\n927,663 -> 392,128\r\n497,246 -> 497,389\r\n849,935 -> 15,101\r\n582,517 -> 543,517\r\n410,85 -> 237,85\r\n292,316 -> 841,316\r\n753,708 -> 753,38\r\n266,328 -> 267,327\r\n789,980 -> 16,207\r\n514,963 -> 514,180\r\n865,532 -> 687,710\r\n544,620 -> 956,208\r\n132,287 -> 557,287\r\n268,710 -> 268,684\r\n234,746 -> 234,688\r\n51,906 -> 51,911\r\n191,159 -> 428,159\r\n834,956 -> 834,565\r\n916,242 -> 230,928\r\n227,789 -> 227,689\r\n206,767 -> 705,268\r\n291,403 -> 578,403\r\n35,890 -> 956,890\r\n185,618 -> 402,401\r\n989,858 -> 284,858\r\n391,284 -> 391,74\r\n717,158 -> 670,111\r\n188,146 -> 785,743\r\n602,696 -> 602,367\r\n975,972 -> 975,317\r\n146,301 -> 146,205\r\n328,215 -> 861,215\r\n15,653 -> 990,653\r\n48,101 -> 48,34\r\n929,547 -> 506,970\r\n901,519 -> 670,519\r\n801,560 -> 19,560\r\n953,829 -> 876,829\r\n856,317 -> 856,787\r\n618,171 -> 86,703\r\n823,622 -> 369,168\r\n209,291 -> 846,928\r\n944,601 -> 944,544\r\n678,223 -> 987,223\r\n893,143 -> 54,982\r\n30,740 -> 244,740\r\n974,974 -> 15,15\r\n497,557 -> 63,557\r\n846,193 -> 846,964\r\n83,119 -> 946,982\r\n864,179 -> 864,387\r\n583,312 -> 77,818\r\n612,154 -> 612,641\r\n487,136 -> 487,938\r\n502,611 -> 215,898\r\n648,978 -> 648,885\r\n373,372 -> 318,372\r\n582,988 -> 168,574\r\n453,261 -> 899,261\r\n467,578 -> 33,578\r\n876,138 -> 683,331\r\n708,248 -> 132,824\r\n686,56 -> 686,211\r\n687,964 -> 687,485\r\n626,76 -> 626,222\r\n630,176 -> 630,485\r\n968,608 -> 968,382\r\n943,69 -> 943,856\r\n173,344 -> 173,902\r\n193,918 -> 326,918\r\n811,748 -> 379,316\r\n484,941 -> 113,570\r\n277,635 -> 156,514\r\n770,573 -> 691,573\r\n37,475 -> 464,475\r\n720,856 -> 676,856\r\n988,13 -> 25,976\r\n414,74 -> 140,74\r\n169,158 -> 29,298\r\n611,910 -> 611,718\r\n851,161 -> 507,161\r\n76,969 -> 76,114\r\n270,243 -> 976,949\r\n375,607 -> 325,657\r\n738,450 -> 196,450\r\n153,776 -> 153,325\r\n862,123 -> 862,535\r\n705,933 -> 931,933\r\n900,26 -> 35,891\r\n870,66 -> 79,857\r\n815,569 -> 347,569\r\n950,290 -> 757,290\r\n719,446 -> 317,848\r\n243,531 -> 671,531\r\n320,807 -> 380,807\r\n221,984 -> 221,858\r\n832,308 -> 832,950\r\n522,694 -> 584,694\r\n412,48 -> 412,328\r\n898,690 -> 646,690\r\n602,191 -> 106,191\r\n58,961 -> 58,879\r\n177,413 -> 147,383\r\n48,159 -> 48,639\r\n18,935 -> 883,70\r\n26,68 -> 406,68\r\n579,73 -> 579,523\r\n975,825 -> 975,737\r\n390,125 -> 737,472\r\n127,179 -> 127,111\r\n506,557 -> 576,487\r\n161,210 -> 324,47\r\n524,165 -> 524,67\r\n938,790 -> 184,36\r\n302,431 -> 548,677\r\n559,363 -> 559,913\r\n936,10 -> 176,770\r\n828,976 -> 657,976\r\n864,14 -> 864,607\r\n28,46 -> 28,347\r\n732,742 -> 732,615\r\n91,712 -> 91,279\r\n982,884 -> 772,674\r\n917,47 -> 683,47\r\n631,697 -> 83,697\r\n463,413 -> 463,949\r\n719,348 -> 197,870\r\n980,25 -> 24,981\r\n64,608 -> 410,954\r\n103,882 -> 103,842\r\n279,10 -> 830,561\r\n409,573 -> 409,247\r\n673,291 -> 222,291\r\n315,143 -> 942,770\r\n216,89 -> 80,225\r\n134,936 -> 967,103\r\n387,566 -> 82,566\r\n282,259 -> 862,839\r\n930,225 -> 930,775\r\n460,370 -> 460,922\r\n276,254 -> 518,496\r\n647,881 -> 293,527\r\n983,977 -> 90,84\r\n336,836 -> 336,392\r\n96,888 -> 963,21\r\n42,47 -> 978,983\r\n923,280 -> 726,83\r\n311,486 -> 505,292\r\n496,637 -> 861,637\r\n575,438 -> 575,498\r\n228,754 -> 228,599\r\n965,963 -> 21,19\r\n834,171 -> 730,171\r\n497,234 -> 497,448\r\n977,970 -> 977,618\r\n335,422 -> 335,640\r\n931,954 -> 36,59\r\n140,966 -> 871,235\r\n352,88 -> 449,88\r\n631,332 -> 735,332\r\n765,823 -> 48,106\r\n496,685 -> 103,685\r\n89,416 -> 89,37\r\n121,544 -> 569,544\r\n643,712 -> 596,712\r\n662,656 -> 739,656\r\n42,386 -> 42,697\r\n959,875 -> 959,527\r\n874,967 -> 120,213\r\n962,649 -> 240,649\r\n627,714 -> 266,714\r\n148,301 -> 148,383\r\n883,491 -> 883,605\r\n242,401 -> 348,401\r\n660,931 -> 420,931\r\n475,72 -> 955,552\r\n912,949 -> 912,881\r\n928,330 -> 45,330\r\n474,203 -> 131,203\r\n805,459 -> 818,459\r\n534,645 -> 639,750\r\n68,911 -> 933,46\r\n717,276 -> 21,972\r\n233,615 -> 957,615\r\n902,495 -> 902,867\r\n230,427 -> 230,421\r\n630,917 -> 845,917\r\n884,903 -> 34,53\r\n157,205 -> 157,409\r\n857,588 -> 608,588\r\n422,863 -> 422,469\r\n890,83 -> 722,251\r\n546,318 -> 138,726\r\n691,881 -> 52,242\r\n171,435 -> 209,435\r\n978,15 -> 702,15\r\n581,86 -> 581,282\r\n61,767 -> 61,903\r\n835,289 -> 835,941\r\n176,351 -> 707,882\r\n571,84 -> 571,788\r\n700,373 -> 700,650\r\n40,40 -> 945,945\r\n82,616 -> 809,616\r\n351,402 -> 455,402\r\n517,242 -> 73,686\r\n489,795 -> 814,795\r\n543,734 -> 611,734\r\n688,849 -> 688,571\r\n631,903 -> 883,903\r\n312,636 -> 667,281\r\n213,575 -> 699,89\r\n752,128 -> 161,719\r\n754,931 -> 754,474\r\n748,666 -> 748,54\r\n123,667 -> 57,667\r\n140,497 -> 140,644\r\n634,961 -> 187,514\r\n822,865 -> 822,126\r\n58,162 -> 632,736\r\n417,164 -> 166,164\r\n943,597 -> 943,274\r\n355,756 -> 355,167\r\n340,546 -> 232,438\r\n166,125 -> 166,96\r\n354,394 -> 354,579\r\n147,844 -> 155,844\r\n652,723 -> 719,656\r\n584,582 -> 667,665\r\n514,373 -> 685,202\r\n308,404 -> 966,404\r\n124,179 -> 916,971\r\n706,597 -> 455,597\r\n52,822 -> 510,364\r\n419,900 -> 860,900\r\n153,649 -> 872,649\r\n915,160 -> 56,160\r\n422,346 -> 422,38\r\n940,73 -> 940,784\r\n922,581 -> 922,753\r\n949,821 -> 949,621\r\n591,778 -> 145,778\r\n93,685 -> 164,756\r\n287,469 -> 287,948\r\n953,952 -> 446,445\r\n935,47 -> 12,970\r\n458,109 -> 458,639\r\n71,643 -> 644,70\r\n812,214 -> 812,655\r\n488,496 -> 158,496\r\n113,868 -> 755,226\r\n666,429 -> 666,920\r\n962,246 -> 517,246\r\n400,261 -> 400,713\r\n601,617 -> 943,275\r\n904,847 -> 120,63\r\n556,334 -> 278,612\r\n416,463 -> 59,463\r\n724,401 -> 871,548\r\n701,210 -> 426,485\r\n786,116 -> 786,904\r\n976,979 -> 157,160\r\n674,377 -> 674,891\r\n321,829 -> 891,829\r\n404,84 -> 404,800\r\n975,850 -> 906,781\r\n753,331 -> 978,331\r\n87,240 -> 87,383\r\n167,390 -> 167,20\r\n258,931 -> 107,780\r\n672,313 -> 696,313\r\n589,88 -> 589,13\r\n637,65 -> 637,808\r\n532,610 -> 532,756\r\n612,482 -> 318,482\r\n522,322 -> 135,322\r\n89,49 -> 89,679\r\n475,506 -> 475,973\r\n385,348 -> 229,348\r\n633,978 -> 633,255\r\n978,833 -> 978,436\r\n746,553 -> 707,553\r\n970,820 -> 970,548\r\n589,59 -> 589,19\r\n674,890 -> 16,890\r\n838,315 -> 413,740\r\n39,129 -> 860,950\r\n923,755 -> 425,257\r\n757,929 -> 940,746\r\n639,390 -> 104,925\r\n650,512 -> 260,902\r\n718,90 -> 987,90\r\n352,228 -> 795,671\r\n141,629 -> 491,279\r\n755,616 -> 368,616\r\n117,113 -> 707,703\r\n206,73 -> 926,793\r\n372,415 -> 372,130\r\n894,632 -> 611,632\r\n974,554 -> 878,554\r\n823,710 -> 823,972\r\n730,711 -> 582,859\r\n94,912 -> 108,912\r\n782,190 -> 88,884\r\n668,567 -> 336,567\r\n87,266 -> 327,506\r\n738,303 -> 36,303\r\n320,358 -> 445,358\r\n566,725 -> 695,725\r\n94,364 -> 94,64\r\n884,184 -> 159,909\r\n947,575 -> 947,662\r\n658,741 -> 658,470\r\n512,776 -> 512,960\r\n96,757 -> 950,757\r\n349,604 -> 349,760\r\n459,247 -> 355,143\r\n90,12 -> 95,12\r\n28,27 -> 981,980\r\n388,959 -> 508,959\r\n704,194 -> 148,194\r\n349,546 -> 349,259\r\n30,38 -> 720,728\r\n307,631 -> 307,282\r\n520,417 -> 154,417\r\n746,771 -> 924,771\r\n838,932 -> 20,114\r\n406,141 -> 406,75\r\n15,35 -> 963,983\r\n264,143 -> 948,827\r\n545,899 -> 742,899\r\n759,356 -> 309,356\r\n686,707 -> 224,245\r\n226,985 -> 962,249\r\n826,628 -> 826,637\r\n985,329 -> 683,631\r\n586,283 -> 586,258\r\n602,703 -> 243,703\r\n419,883 -> 419,556\r\n475,375 -> 211,111\r\n981,15 -> 19,977\r\n989,10 -> 10,989\r\n238,350 -> 479,591\r\n720,714 -> 603,714\r\n969,985 -> 35,51\r\n844,356 -> 837,349\r\n450,354 -> 450,834\r\n385,870 -> 385,758\r\n911,856 -> 89,34\r\n948,124 -> 989,124\r\n439,556 -> 439,310\r\n990,233 -> 990,633\r\n747,723 -> 943,527\r\n418,23 -> 804,23\r\n876,96 -> 38,934\r\n556,92 -> 532,92\r\n727,155 -> 727,279\r\n674,545 -> 940,811\r\n118,879 -> 420,879\r\n141,50 -> 426,335\r\n591,180 -> 591,537\r\n662,511 -> 681,511\r\n776,858 -> 776,956\r\n872,329 -> 87,329\r\n183,985 -> 114,985\r\n186,179 -> 186,801\r\n354,933 -> 491,933\r\n10,223 -> 759,972\r\n112,626 -> 702,36\r\n498,78 -> 161,78\r\n196,61 -> 814,679\r\n629,71 -> 116,71\r\n23,281 -> 23,32\r\n819,810 -> 432,423\r\n187,276 -> 187,912\r\n95,683 -> 576,683\r\n125,813 -> 856,82\r\n98,882 -> 140,882\r\n843,909 -> 198,909\r\n192,904 -> 192,335\r\n375,342 -> 375,668\r\n61,804 -> 61,832\r\n475,387 -> 966,878\r\n822,740 -> 822,186";
}
