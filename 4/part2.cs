using System;
using System.Collections.Generic;
					
public class Program
{	
	public static void Main()
	{
		var readings = input.Split(new string[] { "\r\n" }, StringSplitOptions.None);
		var bingoBoards = initializeBingoBoards(readings);	
		var bingoBoardsLeft = bingoBoards.Count;
		var bingoBoardWinners = new Dictionary<int, bool>();
				
		var numbersToCall = readings[0].Split(new string[] { "," }, StringSplitOptions.None);
		foreach (string number in numbersToCall) 
		{	
			for (int i = 0; i < bingoBoards.Count; i++) 
			{
				if (bingoBoardWinners.ContainsKey(i))
				{
					continue;
				}
				
				checkBoardForMatch(bingoBoards[i], number);	
				if (checkBoardForWin(bingoBoards[i], number)) 
				{
					bingoBoardWinners[i] = true;
					bingoBoardsLeft--;
					
					if (bingoBoardsLeft == 0)
					{
						Console.WriteLine(getScore(bingoBoards[i], number)); 
						return;
					}
				}
			}
		}
	}
	
	public static List<string[,]> initializeBingoBoards(string[] readings) 
	{		
		var bingoBoards = new List<string[,]>();
		for (int i = 6; i <= readings.Length; i+=6) 
		{ 
			var boardIndex = 0;
			string[,] bingoBoard = new string[5,5];
			for (int j = i-4; j <= i; j++) 
			{
				for (int k = 0; k < readings[j].Length; k+=3) 
				{
					if (readings[j][k] == ' ')
					{	
						bingoBoard[boardIndex,k/3] = Char.ToString(readings[j][k+1]);
					}
					else
					{
						bingoBoard[boardIndex,k/3] = Char.ToString(readings[j][k]) + 
												Char.ToString(readings[j][k+1]);
					}
				}
				
				boardIndex++;
			}
			
			bingoBoards.Add(bingoBoard);
		}
		
		return bingoBoards;
	}
	
	public static void checkBoardForMatch(string[,] board, string num)
	{
		for (int i=0; i < boardLength; i++)
		{
			for (int j=0; j < boardLength; j++)
			{
				if (board[i,j] == num) 
				{
					board[i,j] = boardMarker;
				}
			}
		}
	}
	
	public static bool checkBoardForWin(string[,] board, string num)
	{
		bool isWin = false;
		
		for (int i=0; i < 5; i++)
		{
			for (int j=0; j < boardLength; j++)
			{
				isWin = true;
				if (board[i,j] != boardMarker) 
				{
					isWin = false;
					break;
				}
			}
			
			if (isWin)
			{
				return isWin;
			}
			
			for (int j=0; j < boardLength; j++)
			{
				isWin = true;
				if (board[j,i] != boardMarker) 
				{
					isWin = false;
					break;
				}
			}
		}
		
		return isWin;
	}
	
	public static int getScore(string[,] board, string number)
	{
		int sum = 0;
		for (int i=0; i < 5; i++)
		{
			for (int j=0; j < boardLength; j++)
			{
				if (board[i,j] != "x")
				{
					sum += Int32.Parse(board[i,j]);
				}
			}
		}
		
		return sum * Int32.Parse(number);
	}
	
	public static int boardLength = 5;
	public static string boardMarker = "x";
	public static string input = "28,82,77,88,95,55,62,21,99,14,30,9,97,92,94,3,60,22,18,86,78,71,61,43,79,33,65,81,26,49,47,51,0,89,57,75,42,35,80,1,46,83,39,53,40,36,54,70,76,38,50,23,67,2,20,87,37,66,84,24,98,4,7,12,44,10,29,5,48,59,32,41,90,17,56,85,96,93,27,74,45,25,15,6,69,16,19,8,31,13,64,63,34,73,58,91,11,68,72,52\r\n\r\n31 88 71 23 61\r\n 4  9 14 93 51\r\n52 50  6 34 55\r\n70 64 78 65 95\r\n12 22 41 60 57\r\n\r\n44 54 26 63 18\r\n32 74 99 52  2\r\n 5 29 13 28 41\r\n60 69 53 61 25\r\n49 59 70 46 48\r\n\r\n26 91  1 23  6\r\n51 58 79 57 33\r\n67 50 14 81 48\r\n64 66 49 46  9\r\n16 73 39 74 68\r\n\r\n41 31 12 14 82\r\n 4 97 76 49 15\r\n50 43 72 22 24\r\n53 56 78 33 52\r\n65 68 26  0 94\r\n\r\n73 21 23 33 57\r\n53 10 40 35  0\r\n41 12 71 19 47\r\n49 25 76 78 13\r\n80 92 22 26 29\r\n\r\n97 11 43 46 52\r\n51 58 36 47 84\r\n75 69 88 85 57\r\n67 94 61  0 70\r\n65 42 16 44  1\r\n\r\n64 70 99 58 56\r\n18 81 34 59 45\r\n26 71 67 47 68\r\n78 17 87 91  0\r\n49 98 53 35  9\r\n\r\n76 75  5 27 25\r\n17 92 42 49 28\r\n34 78 26 71 30\r\n11 31 41 14  8\r\n50 59 62 93 80\r\n\r\n 3 27 23 11 49\r\n56 93 22 70 94\r\n24 74 43 21  7\r\n33 28 41 96  9\r\n42 10 80 78  5\r\n\r\n51 64 12 79 31\r\n73 66 43 70 84\r\n86 44 81 60 85\r\n16 48  6 83 34\r\n25 98 36 50 19\r\n\r\n28 15 30 79 59\r\n40 76 39 98 12\r\n 4 96 93 91 47\r\n19 75 89 73 17\r\n72 64 92 58 74\r\n\r\n24 32 84 57 55\r\n91 33 92 71  8\r\n30 40 78 61 70\r\n79 35 34 75 23\r\n38  7 81 27 76\r\n\r\n 8 93 11 94 39\r\n21 13 98 83 10\r\n38 59 46 24 75\r\n74 60 34 89 42\r\n36 69  0 40 67\r\n\r\n21 69 28 98 13\r\n44 79  7  3 20\r\n19 36 82  9 43\r\n45 11 99 97 76\r\n 2 17 16 46 66\r\n\r\n73 20  2 63 47\r\n 6 96 16 46 17\r\n66 82 14 29 41\r\n49 30 71  8 68\r\n44 18 56 26 74\r\n\r\n42 32 40  2  9\r\n20 10 95 31 67\r\n98 96 15 39 58\r\n13 52 99 82 89\r\n23 18 87 60  5\r\n\r\n92 32 45 26 80\r\n59 22 23 98 24\r\n79 65 99 15 58\r\n83 86 70 17 63\r\n51 46 82 78 52\r\n\r\n 3 73 20 53 63\r\n26 97 39 94 55\r\n 1 27 98 62 15\r\n75 78 99 87 43\r\n90 96  0 89 67\r\n\r\n85 76 48 16 49\r\n51 67 79 68 18\r\n20 38 44 57 46\r\n19 29 39 60 23\r\n26 47 78 17 83\r\n\r\n32 11 47 56 84\r\n54 66 38 77 74\r\n72  0 30 71 80\r\n10 86 94 23 65\r\n81 99 60 43 83\r\n\r\n 7 78 69 75 41\r\n 0 70 21 45 29\r\n40 51 88 28 35\r\n97 46 44 98 37\r\n93 36 89 81 18\r\n\r\n33 13 84 68 72\r\n92 76  1 40 19\r\n86 75 34 98 82\r\n 8  3  4 28  0\r\n91 60 27 81 39\r\n\r\n76 32 92 65 70\r\n88 45 37 44 99\r\n38 95 72  6 19\r\n34 71 54 41 33\r\n47 20 84 98 73\r\n\r\n85 46  4 89 69\r\n50 62 30 64 59\r\n 9 21 54 55 13\r\n66 29 17 96  6\r\n22 97 44 87 90\r\n\r\n72 53 96 87 35\r\n81 14 77 17 12\r\n82 47  2 95 59\r\n24 92 54 90 48\r\n70  4 85 99 13\r\n\r\n32 22  3 54 18\r\n 4  2 94 38 77\r\n46 59 11 67 37\r\n61 80 45 51 95\r\n13 81 42 15 64\r\n\r\n24 51 56 36 55\r\n84 81 78  1 98\r\n33 14  3 97 64\r\n34 39 11 18 59\r\n44 62 99 83 82\r\n\r\n73 21 47 83 10\r\n11  5 16 20 54\r\n36 98  4 89 38\r\n56 72  6 32 80\r\n29 91 61 40 69\r\n\r\n19 22 53 67 34\r\n59 94  5 47 61\r\n77 55 91 69 63\r\n92 68 65 40 97\r\n64 20 18 39 49\r\n\r\n 0 36 23 26 30\r\n76 21 81 64  7\r\n 3 61 93 79 70\r\n96  8 47 48 54\r\n51 55 44 62 59\r\n\r\n70 69 89 91 55\r\n19  8 29 59 54\r\n64 56 51 34 60\r\n32 16 37 44 83\r\n40 21 50 66 76\r\n\r\n54  1 83 64 26\r\n27  9 52  6 50\r\n68  4 45 30  2\r\n93 42 89 70 99\r\n67 19  7 59  0\r\n\r\n75 28 98 83 18\r\n82 71 96 40 24\r\n47 52 73 69 34\r\n 4 78 89 32 11\r\n53 39 37 93 67\r\n\r\n96 54  5 26 74\r\n91 65 70 21  6\r\n 4 80 89 30 51\r\n63 99 73 11 49\r\n10 29 18 98 34\r\n\r\n 0 98 16 32 66\r\n82 44 22 25 42\r\n62 45 90 36 47\r\n10 43 15 12  6\r\n 1 86 20 27 28\r\n\r\n83 68 61 16 60\r\n 7 22 14 56 72\r\n41 24 43 20 51\r\n13 15 53 87 84\r\n66 91  1 42 80\r\n\r\n19  9 73 51 13\r\n 0 52 43 26 59\r\n20  2 12 78 56\r\n42 64  6 65 85\r\n61 11 35 44 84\r\n\r\n28 30 96 67 38\r\n89 50 20 92 40\r\n 0 57  9 49 95\r\n26 39 66  7 25\r\n74 72 76 54 16\r\n\r\n57 50 29 88 80\r\n27 23  3 83 52\r\n33 45  5  4 58\r\n67 48 16 82 55\r\n75 92 63 40 30\r\n\r\n59 66 39 36 68\r\n34 95 88 70 60\r\n44  6 81  2 13\r\n 5 83 33  0 37\r\n17 97 46 82 84\r\n\r\n98 87 20 49 22\r\n 9 37 81 11 71\r\n24 64 13 25 82\r\n 8 34  3 94 36\r\n16 45 73 85 23\r\n\r\n 3 12 28 54 16\r\n86 92 10 74 75\r\n43  5 98 24 34\r\n52 32 48 18 17\r\n33 26 99 25 63\r\n\r\n67  1 27 91  6\r\n98 94 18 21 65\r\n 9 17 80 82 70\r\n84 47 26 96 46\r\n38 89 57 78 22\r\n\r\n89 86 51 84 27\r\n47 61 35 26 18\r\n22 79 28 78 21\r\n15 77 65 46 64\r\n 1 99 16 80 95\r\n\r\n24 84  3 23 81\r\n 1 57 25 30 48\r\n67 91 68 15  2\r\n31 73 50  4 16\r\n61 99 47 96 34\r\n\r\n41 86 47 15 93\r\n31 88 80  6 16\r\n54 55 24 81 77\r\n84 97 91 42 37\r\n48  7 94 98 34\r\n\r\n35 51 30 68 59\r\n16 27 34  0 84\r\n90 47 28 96 72\r\n33 76 74 64 52\r\n32 46  3 26 83\r\n\r\n 7 83 88 17 46\r\n14 64 80 27 57\r\n58 44 55 86 61\r\n38  3 96 32 71\r\n26 78 22 70 33\r\n\r\n29 36 59 90 95\r\n87 42 75 89  9\r\n96  1 58 48 10\r\n16  6 35 85  4\r\n66 62 22 30 91\r\n\r\n23 46 36 53 63\r\n17 98 72 33 50\r\n39 96 95 67 19\r\n56 84 73 88 79\r\n86 58 28 91 15\r\n\r\n67 48 31 82 57\r\n65 32 41 84 30\r\n 3 87 94 68 35\r\n56  9 28 50 27\r\n36 21 72 81 55\r\n\r\n21  8 99 15 75\r\n85  5 12  0 53\r\n82 45  4 11 43\r\n88 95 69 44 81\r\n 1 56 22 83 73\r\n\r\n68 84 83 27 64\r\n94 70 90 97 79\r\n12 35 45 76 22\r\n18 14 41  1 10\r\n15  9 87 32 17\r\n\r\n53 69 77 19 96\r\n 5 47 64 57 23\r\n26 28 88  6 41\r\n16 52 51 93 30\r\n95 33 98 46 42\r\n\r\n34 85 39 82  0\r\n17 60 40 12 93\r\n56 72 58 31  3\r\n78 47 63 20  1\r\n80 54  8 94 24\r\n\r\n12 90 86 33 56\r\n55 16 24 65 72\r\n82 28 53  1 93\r\n14 69 11 41 29\r\n92 37 48 57 15\r\n\r\n 8 45 89 90 41\r\n52 86 60 62 72\r\n47 80 82 13 56\r\n22 46 91 57 50\r\n 9 67 43  6 16\r\n\r\n 6 51 99 17 20\r\n84 75 73 97 13\r\n89 31 80  1 61\r\n88 82 50 96 83\r\n32 35 53 68 26\r\n\r\n21  9 63 62 82\r\n55 45 86 75 14\r\n19 15 88 43 53\r\n79 36 97 71 33\r\n 4 85 52 47 12\r\n\r\n81 77 12  1 28\r\n32 38 16 41 91\r\n64  8 63 78 54\r\n87 24 23  0 22\r\n99 75 18 15 65\r\n\r\n22 82 41 54 89\r\n68  5 70 11 81\r\n17 94 73 24 77\r\n99 56 21 75 14\r\n48 67 76 64 95\r\n\r\n85  5 54 31 37\r\n38 74 69 52 53\r\n86 89  6 81 40\r\n26 84 56 72 65\r\n67  7 32 87 95\r\n\r\n45 49 86 53 94\r\n20 40 28 26 98\r\n36  4 67 29 87\r\n70  1 96 55 48\r\n37 92 23 85 91\r\n\r\n77 85 32 21 62\r\n46 69 16 98 71\r\n 3 88 38 36  8\r\n79 12 74 76 84\r\n72 41 92 39 67\r\n\r\n50 69  2 38 15\r\n67 28 78 30 40\r\n33 92 88 85 24\r\n18  6 34 16 61\r\n36 29 56 63 90\r\n\r\n90 92 13 32 56\r\n72 89 51 43 40\r\n18  4 81 23 77\r\n57 62 85 55 86\r\n27 65 31 94 91\r\n\r\n80 45 14 90 32\r\n74 53 34  9 83\r\n51 97 56 30 69\r\n11 15 17 41  4\r\n54 24 85 67 66\r\n\r\n52 10 39 61 97\r\n 4 49 73 58 74\r\n19 45 92 27 32\r\n41 11 75 37 70\r\n95 53 88 86 82\r\n\r\n19 35 77 73 11\r\n97 54 24 50 39\r\n68 59 56 80 75\r\n72 85 38 67 40\r\n49 25 98 94 26\r\n\r\n63 37 58  7 81\r\n69 65 44 86 22\r\n38 66 82 93 64\r\n36 15 61 88 45\r\n25 91  6 60 87\r\n\r\n 6  4 90 10 89\r\n12  2 30 94 59\r\n41 13 51 63  0\r\n34 73 87 79 61\r\n38 77 88 53 72\r\n\r\n49 57 27 50 74\r\n60 99 90 34  0\r\n 7 80 43 24 65\r\n82 67  2 69 20\r\n72 75 47 18 91\r\n\r\n12 55 65 36 92\r\n40 99 15  7 82\r\n 9 46 32 52 83\r\n73 20 61 18 69\r\n78 34 41 98 96\r\n\r\n60 53 76 19 57\r\n82 13 30 51 41\r\n45 87 95 25 39\r\n96 66 72 62 59\r\n71  5 17 77 75\r\n\r\n60 14  5 38 62\r\n85 68 69 83 92\r\n24 82 93 61 11\r\n65 19 75 47 94\r\n45 21 13 76 59\r\n\r\n50 43 83 15 18\r\n35 37 47 96 51\r\n91  7 19 38  9\r\n87 76 46 61 82\r\n85 20 59 39 31\r\n\r\n91 42 83 63 54\r\n35 89 33 37 88\r\n19 67 71 49 48\r\n34 65  7  1 80\r\n70  9 98 10 44\r\n\r\n65 89  1 76 86\r\n81 35 93 69 26\r\n15 17 16 67  0\r\n97 38 23 50 78\r\n96 54 70 45 42\r\n\r\n20 50 64 29 75\r\n87 69 27 92 52\r\n32 88 93 67  9\r\n35 15 17 89 40\r\n37 11 21  3 86\r\n\r\n20  8 68 75 65\r\n47 56  2 23 49\r\n88 26  5 18  7\r\n29 57 19 92 84\r\n87 67 53 90 96\r\n\r\n68 59 97 34 56\r\n82 83 90 94 69\r\n37 60 76 35  1\r\n29 95 58 40 53\r\n22 84 12 21 99\r\n\r\n63 32 79 62 17\r\n 8 18 40 74 57\r\n71 91 70 30  3\r\n46 33 39 61 76\r\n27 54 12 98 77\r\n\r\n73 66 24 65 76\r\n88 42 52 11 32\r\n41 15 81 89 33\r\n74  3 25 75 83\r\n29 14 96 35 27\r\n\r\n23 36 57 53 93\r\n43 50 83 97 91\r\n63 69 55 90 11\r\n18 94 59 85 73\r\n81 60 30 46 80\r\n\r\n32 13 51 86 39\r\n74 46 11 25  9\r\n44 89 26 54 71\r\n93 98 29 75 85\r\n38 70 79  0 30\r\n\r\n68  4 55  3 96\r\n41  7 64 21 86\r\n27 69 93 80 90\r\n73 75 26 25 50\r\n49 32 45 24 61\r\n\r\n90 14 43  4 87\r\n11 16 33 79 28\r\n36 31  2 34 50\r\n67 10 24 92 99\r\n26 80  1 12 51\r\n\r\n56 21 79 36 93\r\n26 63 35  5 76\r\n85 94 69 18 28\r\n52 55 90 83 12\r\n10 23 95 15 19\r\n\r\n34 85 32 89 16\r\n 7 12 40 23 47\r\n79 10 93 59 29\r\n99 22 21 38  9\r\n76  4 70 53 35\r\n\r\n51 33 22 56 97\r\n88 26 47 19 40\r\n45  0  3 25 76\r\n 8 42 61 57  5\r\n83 20 53 29 70\r\n\r\n 2 41 94 98 33\r\n61 77 84 34  0\r\n49 40 86 74 43\r\n35 27 38 25  8\r\n90 80 57 97 46\r\n\r\n60  1 83 31 77\r\n94 49 64  6 24\r\n51 95 36 72 76\r\n 8  7 59 45 34\r\n26 87 41 97 82\r\n\r\n13  7 69 28 78\r\n39 62 45 77 53\r\n90 85 23 17 38\r\n60 33 19 89 24\r\n97 30 16 64 42\r\n\r\n23 73 59 52 70\r\n20 38 81 78 47\r\n58  0 79 19 95\r\n39 42  8 17 53\r\n24 57 37 13 10\r\n\r\n36 60  3 98 41\r\n30 27  0 74 81\r\n49 23 48 69  4\r\n22 86 73 96 95\r\n80 14 92 83 91\r\n\r\n86 61 22 77 57\r\n34  4 71 55 27\r\n25 24  7  6 16\r\n81 75 38 96 35\r\n64 15 29 98 79\r\n\r\n82 85 80 52 56\r\n72 58 89  8 92\r\n43  5 77  2 83\r\n53 12 39 21  6\r\n16 31 47 10 74\r\n\r\n43 17 37 53 48\r\n60 77 80 36 25\r\n58 20 91 95 71\r\n90  4  9 83 66\r\n28 15 62  6 11\r\n\r\n51 46  2 26 79\r\n83 52 11 64 22\r\n66 49 61 78 69\r\n70 67 91 10 24\r\n68 63 23 93 35\r\n\r\n42  9 63 56 93\r\n79 59 38 36  7\r\n 6 23 48  0 55\r\n82 45 13 27 83\r\n 1 32  8 40 46";
}
